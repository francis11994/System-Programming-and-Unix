<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>CSc 352: Max Per Line</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<link href="../../style.css" rel="stylesheet" type="text/css"/>

</head>
<body bgcolor="white">

<h1>CSc 352: Max Per Line</h1>

Write a C program <b>maxPerLine</b>, to print out the largest number
in each input line, as specified below.
<p/>
<ul>
  <li>
    <b>Input:</b>
    A sequence of lines to be read in from <b><tt>stdin</tt></b>, each line
    consisting of a non-empty sequence of non-negative decimal integers, with adjacent numbers
    separated by whitespace.  (Thus, leading negative signs are not allowed.)
    <p/>
  </li>
  <li>
    <b>Output:</b>
    For each line read in, the largest number in that line, printed to
    <b><tt>stdout</tt></b> using the following statement:
    <blockquote>
      <b><tt>printf(&quot;%d\n&quot;, num)</tt></b>
    </blockquote>
    where <b><tt>num</tt></b> is the number being printed out.
    <p/>
  </li>
   <li>
    <b>Assumptions:</b> <p />You can <a href="../misc/assume.html" target="_blank">assume</a>
    that each integer input is smaller than the maximum integer size and larger than the
	minimum integer size. (In other words, you can store them in an integer variable.)
	<p/> You may also assume that the input line is no longer than 1024 chars. (Note: you don't really
	need this assumption if you use getline(), but it is helpful for fgets()).
    <p/>
  </li>
 <li>
    <b>Error Conditions:</b>
    Non-integer non-whitespace or negative values in the input.  Empty lines.  
    In each case, print an error message to <b><tt>stderr</tt></b>,
    skip the culprit line (i.e., don't print any value for it),
    and continue processing.  Use the exit status of your program
    to indicate whether any errors were encountered during processing.
    <p/>
  </li>
    <li>
    <b>Makefile:</b>
    In addition to your source files, you should submit a make file
    named <b>Makefile</b> that supports at least the following functionality:
    <blockquote>
    <dl>
      <dt><b>make maxPerLine</b></dt>
      <dd>Compiles the C source code to create an executable named
	<b><tt>maxPerLine</tt></b>.  The compiler options used should
	include <b><tt>-Wall</tt></b>.
	<p/>
      </dd>
     <dt><b>make coverage</b> (phony target)</dt>
      <dd>
	Compiles the source program with the <b>gcc</b> options needed
	by the <b>gcov</b> tool, namely, 
	&quot;<b><tt>-fprofile-arcs -ftest-coverage</tt></b>&quot;.
	<p/>
      </dd>
      <dt><b>make clean</b> (phony target)</dt>
      <dd>
	Deletes all object files (<b><tt>*.o</tt></b>), if any, as well as the
	executable <b><tt>maxPerLine</tt></b> and files generated by <b>gcov</b>
	(<b><tt>*.gcov, *.gcno, *.gcda</tt></b>).
      </dd>
    </dl>
    </blockquote>
    <p/>
	<b>Note:</b> the 'P' and 'L' in <b>maxPerLine</b> are uppercase. All the other letters are lowercase.
  </li>
  <li>
    <b>Submitting your assignment:</b>
    Collect all of the files related to this assignment, as described below, into a
    directory named <b>maxPerLine</b> and use the <b><tt>turnin</tt></b> command to submit
    this directory (this will cause all of the files in the directory to be submitted).
    The directory <b>maxPerLine</b> should contain:
    <p/>
    <ul>
      <li>
	the C source code for your program;
      </li>
      <li>
	A makefile, as described above; and
      </li>
      <li>
	a directory named <b>tests</b> that contains a set of inputs for your
	program that meets the following requirements:
	<ul>
	  <li>
	    each distinct input is in a different file; and
	  </li>
	  <li>
	    collectively, they achieve at least 100% code coverage for your program
	    (as measured by <b>gcov</b>).
	  </li>
	</ul>
	<p/>
      </li>
    </ul>
  </li>
<li>
    <b>Suggested Approach:</b>
    Reading in the input numbers using <b><tt>scanf</tt></b> won't work.
    Instead, read in each line using either <a href="getline.html"><b><tt>getline()</tt></b></a>
	or fgets() (see man page). These two functions work differently, but both read in a line at
	a time.
    Iterate over the line thus read in using <b><tt>sscanf()</tt></b> to read 
    the numbers one after another, and keep track of the largest number 
    in the line.
    <p/>
    Note that in order for this to work, once a number is read from
    the string, the string that is passed into <b><tt>sscanf()</tt></b>
    the next time should be the &quot;rest of the string&quot; so that
    you don't read the same number over and over again.  You can do this
    by using a pointer to keep track of where you are in the string,
    and moving this pointer past each number that is read.
    <p/>
  </li>
  <li>
    <b>Example:</b>
    Suppose the input consists of the following lines:
    <blockquote>
      <b><tt>
	  12 &nbsp;128 &nbsp; 23 &nbsp; 97<br/>
	  &nbsp;&nbsp; 34 &nbsp; 23 &nbsp; 19835 &nbsp; 257 &nbsp; 87<br/>
	  176<br/>
	  982 &nbsp; 83
      </tt></b>
    </blockquote>
    Then the output should be
    <blockquote>
      <b><tt>
	  128<br/>
	  19835<br/>
	  176<br/>
	  982
      </tt></b>
    </blockquote>
	If the input was coming from the keyboard, the output would be printed after each line was read
	in. In other words you should get a line, process it, print the output, and then get the next line.
	This problem is to introduce you to using getline and processing a string it returns. You do
	not need to save more than one line at a time in memory.
  </li>
</ul>

</body>
</html>

